<!DOCTYPE HTML>		
<html>
<head>
	<h1>Result for a dog</h1>
	<style>
		#map {
        height: 400px;
        width: 100%;
       }
    </style>
</head>
	<body>
		{% for animal_obj in animal_list %}
				{{time_updated}}<br>
				{{ animal_obj['name'] }}<br>
				{{ animal_obj['id'] }}<br>
				{{ animal_obj['shelterId'] }}<br>
				{{ animal_obj['size'] }}<br>
				{{ animal_obj['sex'] }}<br>
				{{ animal_obj['status'] }}<br>
				{{ animal_obj['age'] }}<br>
				{{ animal_obj['mix'] }}<br>
				{{ animal_obj['breeds']['breed'] }}<br>
				{{ animal_obj['description'] }}<br>
				{{ animal_obj['contact']['address1']}}
				{{ animal_obj['contact']['address2']}}
				{{ animal_obj['contact']['city'] }}
				{{ animal_obj['contact']['state']}}
				{{ animal_obj['contact']['zip']}}<br>
			  <img src="{{ animal_obj['media']['photos']['photo'][3]['#text'] }}">

				<button data-shelter="{{ animal_obj['shelterId'] }}" 
								data-status="{{ animal_obj['status'] }}"
								data-age="{{ animal_obj['age'] }}"
								data-breed="{{ animal_obj['breeds']['breed'] }}"
								data-url="{{ animal_obj['media']['photos']['photo'][3]['#text'] }}"
								class="favorite" 
								id="{{ animal_obj['id'] }}" type="button">Favorite Me!</button>

		{% endfor %}
<script src="https://code.jquery.com/jquery.js"></script>
	    <h3>My Google Maps Demo</h3>
    <div id="map"></div>
    <script>

      function initMap() {
        var myLatLng = {lat: {{latitude}}, lng: {{longitude }}}
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 4,
          center: myLatLng
        });
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map
        });
      }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBXLQWeh2IN4-OgsSMoQYUIxURAgOUO5m4&callback=initMap">
		      

		function addDogToFavorites(evt){
			var button_id = ("#" + this.id);
			var shelter_id = $(button_id).data("shelter");
			var adopted_status = $(button_id).data("status");
			var age = $(button_id).data("age");
			var breed = $(button_id).data("breed");
			var img_url = $(button_id).data("url");
    
			form_data = {'petfinder_id': this.id, 
									 'shelter': shelter_id, 
									 'status': adopted_status, 
									 'age': age, 
									 'breed': breed, 
									 'url': img_url};

		$.post('/favorites', form_data, addToFavoritesSuccess);

		}

		function addToFavoritesSuccess(result){

			console.log("Dog Added")
		} 


	$('.favorite').on('click', addDogToFavorites); 

	</script>

</body>
</html>